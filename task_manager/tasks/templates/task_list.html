{% load static %}
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Task List</title>
</head>
<body>
<form action="{% url 'logout' %}" method="POST">
    {% csrf_token %}
    <button type="submit">Logout</button>
</form>

    <h1>All Tasks</h1>
    {% if tasks %}
        <ul>
            {% for task in tasks %}
                <li>
                    <a href="/tasks/task/{{ task.id }}/">{{ task.title }}</a> - {{ task.description }}
                    <a href="/tasks/task/{{ task.id }}/edit/">Edit</a>
                   <form action="/tasks/task/{{ task.id }}/delete/" method="POST" style="display:inline;">
                        {% csrf_token %}
                        <button type="submit" class="delete-button" onclick="return confirm('Are you sure you want to delete this task?');">Delete</button>
                   </form>

                </li>
            {% endfor %}
        </ul>
    {% endif %}
<a href="{% url 'create_task' %}" class="btn">Create Task</a>

    <a href="/tasks/">Back to Home</a>
    <script src="{% static 'js/confirm_delete.js' %}"></script>
</body>
</html>
